---
layout: page
title: ゲーム入力
---

# ゲーム入力

このページでは、VMagicMirror v3.1.0以降で実装されているゲーム入力機能を紹介します。

<div class="row">
{% include docimg.html file="./images/docs/game_input.jpg" customclass="col s12 m6 l6" imgclass="fit-doc-img" %}
</div>

#### ゲーム入力機能とは
{: .doc-sec2 }

ゲーム入力機能は、ゲームプレイ中に特化したアバターの動き方のオプションです。

通常のモードでは、ゲームプレイ時のアバターはゲームパッドないしアーケードスティックを持って操作する動きを行います。

これに対してゲーム入力機能をオンにすると、アバターはゲームの中でゲームアバターが動くのに近い動きを取ります。


<div class="note-area" markdown="1">

**NOTE**

v3.2.0では、ゲーム入力機能とカスタムモーションの組み合わせに関する既知の問題があります。

ゲーム入力モード中にカスタムモーションを実行した場合、アバターが棒立ちのままになってしまうことがあります。この状態になった場合、`配信`タブ > `モーション` > `動き方`にて一旦`デフォルト`あるいは`つねに手下げ`を選択肢、その後ふたたび`ゲーム入力`を選択することでアバターの姿勢が正常に戻ります。

</div>

#### 使用方法
{: .doc-sec2 }

`配信`タブ > `モーション` > `動きかた` で「ゲーム入力」を選択するとゲーム入力機能が有効になります。

この時点で、以下の入力に反応するようになります。
もしアバターが入力に反応しない場合、次の`注意点と制限事項`をご確認下さい。

ゲームパッド: 

<div class="doc-ul" markdown="1">

- 左スティック: 移動
- 右スティック: 見回し動作
- 右トリガー: 銃を撃つモーションを実行
- `A`ボタン: ジャンプ

</div>

キーボード:

<div class="doc-ul" markdown="1">

- WASD, または上下左右キー: 移動
- Spaceキー: ジャンプ
- マウス移動: 見回し動作

</div>


#### 注意点と制限事項
{: .doc-sec2 }

<div class="doc-ul" markdown="1">

- ゲームプレイ中にアバターが動かなくなる場合、別のゲームで同様になるか、ゲームの起動中以外の挙動を確認してください。一部のゲームではチート対策等で外部アプリからキーボード入力が検出できなくなるため、本機能でアバターを動かせなくなります。
- ゲームパッドが認識されていないように見える場合、詳細設定ウィンドウの`デバイス` > `ゲームパッド`で`ゲームパッド入力のキャプチャを有効化`がオンであることを確認してください。また、Dual Shock 4を使っている場合は`DirectInputを使用`もオンにしてください。
- ゲーム入力が有効なとき、Word to Motionなど、従来のモーションが動作しない事があります。

</div>


#### 設定
{: .doc-sec2 }

ゲーム入力の詳細設定は以下のとおりです。

<div class="doc-ul" markdown="1">

共通: 

- `移動スタイル`: WASDキーやスティックで移動する時の歩き/走り方を選択します。
    - `1人称: つねに同じ向き`: アバターは正面を向いたまま前後左右に移動します。
    - `3人称: 移動先を向く`: アバターは移動しようとする方向を向きます。
    - `横スクロール風`: 3人称に似ていますが、左か右のいずれかのみを向きます。
- `移動はデフォルトでダッシュ`: オンにすると、ダッシュ用のボタン/キーを押していない場合も移動がダッシュになります。オンにした状態で`ダッシュ`ボタンを押すと、アバターは歩き状態になります。

ゲームパッド

- `ゲームパッド入力を使用`: オンにすると、ゲームパッドの入力をゲーム用の入力として扱います。基本的にオンにしますが、キーボードでの操作中にスティック入力が認識されてしまう場合はオフにしてください。
- スティック・十字キー: `移動`、あるいは`見回し`の操作を割り当てます。
- ボタン: `ダッシュ`や`パンチ`などのアクションを割り当てます。

キーボード・マウス: 
- `キーボード・マウス入力を使用`: オンにすると、下記のマウスやキーボード入力をゲーム用の入力として扱います。
- `WASDで移動`: WASDキーが移動操作を指すキーになります。`矢印キーで移動`も同時にオンにできます。
- `矢印キーで移動`: 上下左右のキーが移動操作を指すキーになります。`WASDで移動`も同時にオンにできます。
- `Shiftでダッシュ`: オンにすると、Shiftキーがダッシュ用のキーになります。
- `Spaceでジャンプ`: オンにすると、Spaceキーがジャンプ用のキーになります。
- `マウス移動で見回し`: オンにすると、マウスを移動させるのを上下左右の見回し操作として扱います。
- `左クリック`: 左クリックに機能を割り当てます。割り当てられる機能はゲームパッドのボタン用アクションと共通です。
- `右クリック`: 右クリックに機能を割り当てます。
- `中央クリック`: 中央クリックに機能を割り当てます。
- `その他のキーアサイン`: アクションに対してキーを割り当てられます。キーを割り当てるには、アクションの右のテキスト欄を選択し、実際に割り当てたいキーを押します。リセットボタンを押すことで割り当てを解除できます。

</div>


#### 標準以外のモーションを使用するには
{: .doc-sec2 }

v3.5.0以降のバージョンを使っている場合、[VRM Animation](../../tips/use_vrma) (.vrma) を用いて標準以外のモーションも使用できます。導入方法については[VRM Animation](../../tips/use_vrma)を参照下さい。

この機能ではパンチやジャンプのように、1回だけ動作を行ったあとで元の姿勢に戻るようなモーションのみが利用できます。v3.5.0以降から現バージョンまでの時点で、移動モーションや射撃モーションなど、持続的なモーションの適用については未対応です。


#### 設定ファイルの保存とロード
{: .doc-sec2 }

ゲーム入力の設定はVMagicMirrorの終了時に自動で保存されます。

もし遊んでいるゲームによって頻繁に設定を変えたい場合、`設定を保存`で設定を`vmm_gi`ファイルとして書き出しておき、必要に応じて`設定を読み込み`で読み込むことで、保存済みの設定を適用できます。

<div class="note-area" markdown="1">

**NOTE**

ゲーム入力の設定は通常の設定ファイルとは異なるファイルに保存されるため、通常の設定ファイルをセーブ/ロードしてもゲーム入力の設定内容には影響しません。

</div>
